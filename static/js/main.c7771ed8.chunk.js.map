{"version":3,"sources":["Components/searchbar/SearchbarStyled.js","Components/searchbar/SearchFormStyled.js","Components/searchbar/Searchbar.js","Components/button/ButtonStyled.js","Components/button/Button.js","Components/imagegallery/ImageGalleryItemStyled.js","Components/imagegallery/ImageGalleryItem.js","Components/imagegallery/ImageGalleryStyled.js","Components/imagegallery/ImageGallery.js","Components/modal/ModalStyled.js","Components/modal/Modal.js","Components/services/api.js","Components/Error/ErrorStyled.js","Components/Error/Error.js","Components/loader/LoaderStyled.js","Components/App.js","index.js"],"names":["SearchbarStyled","styled","header","SearchFormStyled","form","Searchbar","state","name","handleChange","e","currentTarget","value","setState","handleSubmit","preventDefault","props","onSubmit","trim","reset","alert","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ButtonStyledContainer","div","Button","oneMorePageOnClick","onClick","ImageGalleryItemStyled","li","ImageGalleryItem","data","id","role","src","imageURL","alt","tags","ImageGalleryStyled","ul","ImageGallery","openModal","length","map","image","ModalStyled","Modal","overlayRef","createRef","handleKeyPressESC","keyCode","closeModal","window","addEventListener","removeEventListener","children","node","handleBackdropClick","get","text","page","axios","ErrorStyled","Error","LoaderStyled","App","images","searchData","isLoading","showModal","imageId","error","getDataApi","scrollHeight","document","documentElement","api","then","prevState","hits","catch","finally","scrollTo","top","behavior","formSubmitHandler","handleClickIsOpenModal","handleClickIsCloseModal","prevProps","imgModal","find","largeImageURL","arr","webformatURL","arrMap","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c7771ed8.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const SearchbarStyled = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #803fb5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const SearchFormStyled = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n\r\n  .SearchForm-button {\r\n    display: inline-block;\r\n    width: 48px;\r\n    height: 48px;\r\n    border: 0;\r\n    background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\r\n    background-size: 40%;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    opacity: 0.6;\r\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    cursor: pointer;\r\n    outline: none;\r\n  }\r\n\r\n  .SearchForm-button:hover {\r\n    opacity: 1;\r\n  }\r\n\r\n  .SearchForm-button-label {\r\n    position: absolute;\r\n    width: 1px;\r\n    height: 1px;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    clip: rect(0, 0, 0, 0);\r\n    white-space: nowrap;\r\n    clip-path: inset(50%);\r\n    border: 0;\r\n  }\r\n\r\n  .SearchForm-input {\r\n    display: inline-block;\r\n    width: 100%;\r\n    font: inherit;\r\n    font-size: 20px;\r\n    border: none;\r\n    outline: none;\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n  }\r\n\r\n  .SearchForm-input::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport { SearchbarStyled } from \"./SearchbarStyled\";\r\nimport { SearchFormStyled } from \"./SearchFormStyled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    name: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.currentTarget;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.name.trim());\r\n    if (!this.state.name) {\r\n      alert(\"Поле не может быть пустым!\");\r\n      return;\r\n    }\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ name: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <SearchbarStyled>\r\n        <SearchFormStyled className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            name=\"name\"\r\n            onChange={this.handleChange}\r\n            value={this.state.name}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </SearchFormStyled>\r\n      </SearchbarStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ButtonStyledContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 30px;\r\n  .btn {\r\n    display: block;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    padding: 8px 16px;\r\n    border-radius: 2px;\r\n    background-color: #3f51b5;\r\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    text-align: center;\r\n    display: inline-block;\r\n    color: #fff;\r\n    border: 0;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    font-family: inherit;\r\n    font-size: 18px;\r\n    line-height: 24px;\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    min-width: 180px;\r\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n      0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  }\r\n  .btn:hover,\r\n  .btn:focus {\r\n    background-color: #303f9f;\r\n  }\r\n\r\n  .load-more {\r\n  }\r\n  .load-more is-hide {\r\n    display: none;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { ButtonStyledContainer } from \"./ButtonStyled\";\r\n\r\nconst Button = ({ oneMorePageOnClick }) => {\r\n  return (\r\n    <ButtonStyledContainer>\r\n      <button type=\"button\" className=\"btn\" onClick={oneMorePageOnClick}>\r\n        <span className=\"load-more\">Load more </span>\r\n      </button>\r\n    </ButtonStyledContainer>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ImageGalleryItemStyled = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: calc((100% - 4 * 20px) / 4);\r\n  border-radius: 8px;\r\n  background-color: rgb(215, 218, 9);\r\n  margin-bottom: 20px;\r\n  border-radius: 5px;\r\n  box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px,\r\n    rgba(6, 24, 44, 0.65) 0px 4px 6px -1px,\r\n    rgba(255, 255, 255, 0.08) 0px 1px 0px inset;\r\n  :not(:nth-child(4n)) {\r\n    margin-right: 20px;\r\n  }\r\n\r\n  .ImageGalleryItem-image {\r\n    width: 100%;\r\n    height: 190px;\r\n    border-top-right-radius: 5px;\r\n    border-top-left-radius: 5px;\r\n  }\r\n\r\n  .ImageGalleryItem-image:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n\r\n// const StyledGalleryItem = styled(ImageGalleryItemStyled)``;\r\n","import React from \"react\";\r\nimport { ImageGalleryItemStyled } from \"./ImageGalleryItemStyled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ data, onClick }) => {\r\n  return (\r\n    <ImageGalleryItemStyled\r\n      onClick={() => onClick(data.id)}\r\n      role=\"presentation\"\r\n    >\r\n      <img\r\n        src={data.imageURL}\r\n        alt={data.tags}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </ImageGalleryItemStyled>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  data: PropTypes.shape({\r\n    imageURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.number,\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ImageGalleryStyled = styled.ul`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  flex-wrap: wrap;\r\n  padding: 0;\r\n  margin: 30px 10px;\r\n`;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport { ImageGalleryStyled } from \"./ImageGalleryStyled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGallery = ({ data, openModal }) => {\r\n  return (\r\n    <>\r\n      {data.length > 0 && (\r\n        <ImageGalleryStyled>\r\n          {data.map((image) => (\r\n            <ImageGalleryItem data={image} onClick={openModal} key={image.id} />\r\n          ))}\r\n          ;\r\n        </ImageGalleryStyled>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n    }).isRequired\r\n  ).isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ModalStyled = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n\r\n  .Modal {\r\n    max-width: calc(100vw - 48px);\r\n    max-height: calc(100vh - 24px);\r\n  }\r\n`;\r\n","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { ModalStyled } from \"./ModalStyled\";\r\n\r\nclass Modal extends Component {\r\n  overlayRef = createRef();\r\n\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    closeModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPressESC);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPressESC);\r\n  }\r\n\r\n  handleKeyPressESC = (e) => {\r\n    if (e.keyCode === 27) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  // handleBackdropClick = (e) => {\r\n  //   if (e.currentTarget !== \"IMG\") {\r\n  //     this.props.closeModal();\r\n  //   }\r\n  // };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <ModalStyled>\r\n        <div\r\n          className=\"Overlay\"\r\n          node={this.overlayRef}\r\n          onClick={this.handleBackdropClick}\r\n          role=\"presentation\"\r\n        >\r\n          <div className=\"Modal\">{children}</div>\r\n        </div>\r\n      </ModalStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nconst api_url = \"https://pixabay.com/api/\";\r\nconst api_key = \"21696545-9a06c1dceb645ff071558b926\";\r\nconst type = \"photo\";\r\nconst orientation = \"horizontal\";\r\nconst per_page = 12;\r\n\r\nexport const get = (text, page) => {\r\n  return axios.get(\r\n    `${api_url}?key=${api_key}&q=${text}&image_type=${type}&page=${page}&orientation=${orientation}&per_page=${per_page}`\r\n  );\r\n};\r\nexport const getNull = () => null;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ErrorStyled = styled.div`\r\n  width: 100%;\r\n  height: 80vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  .error__text {\r\n    font-size: 40px;\r\n    color: rgb(255, 0, 0);\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { ErrorStyled } from \"./ErrorStyled\";\r\n\r\nconst Error = ({ children }) => {\r\n  return (\r\n    <ErrorStyled>\r\n      <span className=\"error__text\">{children}</span>\r\n    </ErrorStyled>\r\n  );\r\n};\r\nError.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\nexport default Error;\r\n","import styled from \"styled-components\";\r\n\r\nexport const LoaderStyled = styled.div`\r\n  position: fixed;\r\n  top: 83%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./searchbar/Searchbar\";\r\nimport Button from \"./button/Button\";\r\nimport ImageGallery from \"./imagegallery/ImageGallery\";\r\nimport Modal from \"./modal/Modal\";\r\nimport * as api from \"./services/api\";\r\nimport Error from \"./Error/Error\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport { LoaderStyled } from \"./loader/LoaderStyled\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    searchData: \"\",\r\n    page: 1,\r\n    isLoading: false,\r\n    showModal: false,\r\n    imageId: null,\r\n    error: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchData, page } = this.state;\r\n    if (prevState.searchData !== searchData || prevState.page !== page) {\r\n      this.getDataApi(searchData, page);\r\n    }\r\n  }\r\n\r\n  getDataApi = (text, page) => {\r\n    let scrollHeight = 0;\r\n    if (page === 1) {\r\n      scrollHeight = 0;\r\n    } else {\r\n      scrollHeight = document.documentElement.scrollHeight - (0, 50);\r\n    }\r\n    this.setState({ isLoading: true });\r\n    api\r\n      .get(text, page)\r\n      .then(({ data }) => {\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...data.hits],\r\n        }));\r\n      })\r\n      .catch((error) => {\r\n        const { page } = this.state;\r\n\r\n        this.setState({\r\n          page: page + 1,\r\n        });\r\n      })\r\n      .finally(() => {\r\n        const { images } = this.state;\r\n        if (images.length < 1) {\r\n          this.setState({ error: true });\r\n        } else {\r\n          this.setState({ error: false });\r\n        }\r\n        this.setState({ isLoading: false });\r\n        window.scrollTo({\r\n          top: scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      });\r\n  };\r\n\r\n  formSubmitHandler = (text) => {\r\n    this.setState({ searchData: text, images: [], page: 1 });\r\n  };\r\n\r\n  oneMorePageOnClick = () => {\r\n    const { page } = this.state;\r\n\r\n    this.setState({\r\n      page: page + 1,\r\n    });\r\n  };\r\n\r\n  handleClickIsOpenModal = (id) => {\r\n    this.setState({\r\n      showModal: true,\r\n      imageId: id,\r\n    });\r\n  };\r\n\r\n  handleClickIsCloseModal = (e) => {\r\n    this.setState({\r\n      showModal: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, showModal, imageId, error } = this.state;\r\n    const arrMap = (arr) => {\r\n      return arr.map((e) => ({\r\n        imageURL: e.webformatURL,\r\n        ...e,\r\n      }));\r\n    };\r\n    const foundImg = (arr, id) => {\r\n      return arr.find((e) => e.id === id);\r\n    };\r\n    const imgModal = foundImg(images, imageId);\r\n    return (\r\n      <>\r\n        {showModal && (\r\n          <Modal closeModal={this.handleClickIsCloseModal}>\r\n            <img src={imgModal.largeImageURL} alt={imgModal.tags} />\r\n          </Modal>\r\n        )}\r\n        <Searchbar onSubmit={this.formSubmitHandler} />\r\n        <ImageGallery\r\n          data={arrMap(images)}\r\n          openModal={this.handleClickIsOpenModal}\r\n        />\r\n        {error && <Error>Image not found!</Error>}\r\n        {isLoading && (\r\n          <LoaderStyled>\r\n            <Loader\r\n              type=\"Circles\"\r\n              color=\"#00BFFF\"\r\n              height={30}\r\n              width={50}\r\n              timeout={3000} //3 secs\r\n            />\r\n          </LoaderStyled>\r\n        )}\r\n        {images.length > 0 && (\r\n          <Button oneMorePageOnClick={this.oneMorePageOnClick} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./Components/App\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App className=\"App\" />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}