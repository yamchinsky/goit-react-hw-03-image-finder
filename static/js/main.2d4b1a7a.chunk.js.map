{"version":3,"sources":["Components/loader/Loader.module.css","Components/searchbar/SearchbarStyled.js","Components/searchbar/SearchFormStyled.js","Components/searchbar/Searchbar.js","Components/button/ButtonStyled.js","Components/button/Button.js","Components/imagegallery/ImageGalleryItemStyled.js","Components/imagegallery/ImageGalleryItem.js","Components/imagegallery/ImageGalleryStyled.js","Components/imagegallery/ImageGallery.js","Components/modal/ModalStyled.js","Components/modal/Modal.js","Components/services/api.js","Components/loader/Loader.js","Components/Error/ErrorStyled.js","Components/Error/Error.js","Components/App.js","index.js"],"names":["module","exports","SearchbarStyled","styled","header","SearchFormStyled","form","Searchbar","state","name","handleChange","evt","currentTarget","value","setState","handleSubmit","preventDefault","props","onSubmit","trim","reset","alert","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ButtonStyledContainer","div","Button","oneMorePageOnClick","onClick","ImageGalleryItemStyled","li","ImageGalleryItem","data","id","role","src","imageURL","alt","tags","ImageGalleryStyled","ul","ImageGallery","openModal","length","map","image","ModalStyled","Modal","overlay","createNode","handleKeyPressESC","e","keyCode","closeModal","handleBackdropClick","current","overlayNode","target","window","addEventListener","removeEventListener","children","node","get","text","page","axios","App","Style","spinner","color","height","width","timeout","ErrorStyled","Error","images","searchData","isLoading","showModal","imageId","error","getDataApi","console","log","scrollHeight","document","documentElement","api","then","prevState","hits","catch","finally","scrollTo","top","behavior","formSubmitHandler","handleClickIsOpenModal","handleClickIsCloseModal","prevProps","imgModal","find","largeImageURL","arr","webformatURL","arrMap","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2d4b1a7a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Loader_spinner__2z4ou\"};","import styled from \"styled-components\";\r\n\r\nexport const SearchbarStyled = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #803fb5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const SearchFormStyled = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n\r\n  .SearchForm-button {\r\n    display: inline-block;\r\n    width: 48px;\r\n    height: 48px;\r\n    border: 0;\r\n    background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\r\n    background-size: 40%;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    opacity: 0.6;\r\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    cursor: pointer;\r\n    outline: none;\r\n  }\r\n\r\n  .SearchForm-button:hover {\r\n    opacity: 1;\r\n  }\r\n\r\n  .SearchForm-button-label {\r\n    position: absolute;\r\n    width: 1px;\r\n    height: 1px;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    clip: rect(0, 0, 0, 0);\r\n    white-space: nowrap;\r\n    clip-path: inset(50%);\r\n    border: 0;\r\n  }\r\n\r\n  .SearchForm-input {\r\n    display: inline-block;\r\n    width: 100%;\r\n    font: inherit;\r\n    font-size: 20px;\r\n    border: none;\r\n    outline: none;\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n  }\r\n\r\n  .SearchForm-input::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { SearchbarStyled } from \"./SearchbarStyled\";\r\nimport { SearchFormStyled } from \"./SearchFormStyled\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    name: \"\",\r\n  };\r\n\r\n  handleChange = (evt) => {\r\n    const { name, value } = evt.currentTarget;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.name.trim());\r\n    if (!this.state.name) {\r\n      alert(\"Поле не может быть пустым!\");\r\n      return;\r\n    }\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ name: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <SearchbarStyled>\r\n        <SearchFormStyled className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            name=\"name\"\r\n            onChange={this.handleChange}\r\n            value={this.state.name}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </SearchFormStyled>\r\n      </SearchbarStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ButtonStyledContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 30px;\r\n  .btn {\r\n    display: block;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    padding: 8px 16px;\r\n    border-radius: 2px;\r\n    background-color: #3f51b5;\r\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    text-align: center;\r\n    display: inline-block;\r\n    color: #fff;\r\n    border: 0;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    font-family: inherit;\r\n    font-size: 18px;\r\n    line-height: 24px;\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    min-width: 180px;\r\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n      0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  }\r\n  .btn:hover,\r\n  .btn:focus {\r\n    background-color: #303f9f;\r\n  }\r\n\r\n  .load-more {\r\n  }\r\n  .load-more is-hide {\r\n    display: none;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { ButtonStyledContainer } from \"./ButtonStyled\";\r\n\r\nconst Button = ({ oneMorePageOnClick }) => {\r\n  return (\r\n    <ButtonStyledContainer>\r\n      <button type=\"button\" className=\"btn\" onClick={oneMorePageOnClick}>\r\n        <span className=\"load-more\">Load more</span>\r\n      </button>\r\n    </ButtonStyledContainer>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ImageGalleryItemStyled = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: calc((100% - 4 * 20px) / 4);\r\n  border-radius: 8px;\r\n  background-color: rgb(215, 218, 9);\r\n  margin-bottom: 20px;\r\n  border-radius: 5px;\r\n  box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px,\r\n    rgba(6, 24, 44, 0.65) 0px 4px 6px -1px,\r\n    rgba(255, 255, 255, 0.08) 0px 1px 0px inset;\r\n  :not(:nth-child(4n)) {\r\n    margin-right: 20px;\r\n  }\r\n\r\n  .ImageGalleryItem-image {\r\n    width: 100%;\r\n    height: 270px;\r\n    border-top-right-radius: 5px;\r\n    border-top-left-radius: 5px;\r\n  }\r\n\r\n  .ImageGalleryItem-image:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n\r\n// const StyledGalleryItem = styled(ImageGalleryItemStyled)``;\r\n","import React from \"react\";\r\nimport { ImageGalleryItemStyled } from \"./ImageGalleryItemStyled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ data, onClick }) => {\r\n  return (\r\n    <ImageGalleryItemStyled\r\n      onClick={() => onClick(data.id)}\r\n      role=\"presentation\"\r\n    >\r\n      <img\r\n        src={data.imageURL}\r\n        alt={data.tags}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </ImageGalleryItemStyled>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  data: PropTypes.shape({\r\n    imageURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.number,\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ImageGalleryStyled = styled.ul`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  flex-wrap: wrap;\r\n  padding: 0;\r\n  margin: 30px 10px;\r\n`;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport { ImageGalleryStyled } from \"./ImageGalleryStyled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGallery = ({ data, openModal }) => {\r\n  return (\r\n    <>\r\n      {data.length > 0 && (\r\n        <ImageGalleryStyled>\r\n          {data.map((image) => (\r\n            <ImageGalleryItem data={image} onClick={openModal} key={image.id} />\r\n          ))}\r\n          ;\r\n        </ImageGalleryStyled>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n    }).isRequired\r\n  ).isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ModalStyled = styled.header`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n\r\n  .Modal {\r\n    max-width: calc(100vw - 48px);\r\n    max-height: calc(100vh - 24px);\r\n  }\r\n`;\r\n","import React, { Component, createNode } from \"react\";\r\nimport { ModalStyled } from \"./ModalStyled\";\r\n\r\nclass Modal extends Component {\r\n  overlay = createNode();\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPressESC);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPressESC);\r\n  }\r\n\r\n  handleKeyPressESC = (e) => {\r\n    if (e.keyCode === 27) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    const { current } = this.overlayNode;\r\n    if (e.target === current) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n  state = {};\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <ModalStyled>\r\n        <div\r\n          className=\"Overlay\"\r\n          node={this.overlayNode}\r\n          onClick={this.handleBackdropClick}\r\n          role=\"presentation\"\r\n        >\r\n          <div className=\"Modal\">{children}</div>\r\n        </div>\r\n      </ModalStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nconst api_url = \"https://pixabay.com/api/\";\r\nconst api_key = \"21696545-9a06c1dceb645ff071558b926\";\r\nconst type = \"photo\";\r\nconst orientation = \"horizontal\";\r\nconst per_page = 12;\r\n\r\nexport const get = (text, page) => {\r\n  return axios.get(\r\n    `${api_url}?key=${api_key}&q=${text}&image_type=${type}&page=${page}&orientation=${orientation}&per_page=${per_page}`\r\n  );\r\n};\r\nexport const getNull = () => null;\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Style from \"./Loader.module.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div className={Style.spinner}>\r\n        <Loader\r\n          type=\"Puff\"\r\n          color=\"#00BFFF\"\r\n          height={30}\r\n          width={50}\r\n          timeout={3000} //3 secs\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const ErrorStyled = styled.div`\r\n  width: 100%;\r\n  height: 80vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  .error__text {\r\n    font-size: 40px;\r\n    color: rgb(255, 0, 0);\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { ErrorStyled } from \"./ErrorStyled\";\r\n\r\nconst Error = ({ children }) => {\r\n  return (\r\n    <ErrorStyled>\r\n      <span className=\"error__text\">{children}</span>\r\n    </ErrorStyled>\r\n  );\r\n};\r\nError.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\nexport default Error;\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./searchbar/Searchbar\";\r\nimport Button from \"./button/Button\";\r\nimport ImageGallery from \"./imagegallery/ImageGallery\";\r\nimport Modal from \"./modal/Modal\";\r\nimport * as api from \"./services/api\";\r\nimport Loader from \"./loader/Loader\";\r\nimport Error from \"./Error/Error\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    searchData: \"\",\r\n    page: 1,\r\n    isLoading: false,\r\n    showModal: false,\r\n    imageId: null,\r\n    error: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchData, page } = this.state;\r\n    if (prevState.searchData !== searchData || prevState.page !== page) {\r\n      this.getDataApi(searchData, page);\r\n    }\r\n  }\r\n\r\n  getDataApi = (text, page) => {\r\n    console.log(text);\r\n    let scrollHeight = 0;\r\n    if (page === 1) {\r\n      scrollHeight = 0;\r\n    } else {\r\n      scrollHeight = document.documentElement.scrollHeight - 144;\r\n    }\r\n    this.setState({ isLoading: true });\r\n    api\r\n      .get(text, page)\r\n      .then(({ data }) => {\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...data.hits],\r\n        }));\r\n      })\r\n      .catch((error) => {\r\n        throw new Error(error);\r\n      })\r\n      .finally(() => {\r\n        const { images } = this.state;\r\n        if (images.length < 1) {\r\n          this.setState({ error: true });\r\n        } else {\r\n          this.setState({ error: false });\r\n        }\r\n        this.setState({ isLoading: false });\r\n        window.scrollTo({\r\n          top: scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      });\r\n  };\r\n\r\n  formSubmitHandler = (text) => {\r\n    this.setState({ searchData: text, images: [], page: 1 });\r\n  };\r\n\r\n  oneMorePageOnClick = () => {\r\n    const { page } = this.state;\r\n\r\n    this.setState({\r\n      page: page + 1,\r\n    });\r\n  };\r\n\r\n  handleClickIsOpenModal = (id) => {\r\n    this.setState({\r\n      showModal: true,\r\n      imageId: id,\r\n    });\r\n  };\r\n\r\n  handleClickIsCloseModal = (e) => {\r\n    this.setState({\r\n      showModal: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, showModal, imageId, error } = this.state;\r\n    const arrMap = (arr) => {\r\n      return arr.map((e) => ({\r\n        imageURL: e.webformatURL,\r\n        ...e,\r\n      }));\r\n    };\r\n    const foundImg = (arr, id) => {\r\n      return arr.find((e) => e.id === id);\r\n    };\r\n    const imgModal = foundImg(images, imageId);\r\n    return (\r\n      <>\r\n        {showModal && (\r\n          <Modal closeModal={this.handleClickIsCloseModal}>\r\n            <img src={imgModal.largeImageURL} alt={imgModal.tags} />\r\n          </Modal>\r\n        )}\r\n\r\n        <Searchbar onSubmit={this.formSubmitHandler} />\r\n        <ImageGallery\r\n          images={images}\r\n          data={arrMap(images)}\r\n          openModal={this.handleClickIsOpenModal}\r\n        >\r\n          {/* <ImageGalleryItem /> */}\r\n        </ImageGallery>\r\n\r\n        {error && <Error>Image not found!</Error>}\r\n        {isLoading && <Loader />}\r\n        {images.length > 0 && (\r\n          <Button oneMorePageOnClick={this.oneMorePageOnClick} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./Components/App\";\r\nimport \"./index.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App className=\"App\" />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}